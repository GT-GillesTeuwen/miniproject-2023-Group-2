<div class="card-area">
    <ion-card (click)="openMessagesPage()">
      <ion-card-header>
        <ion-card-title>{{personName}}</ion-card-title>
        <div *ngIf="(allConvos$ | async) as allConvos;">
          <div *ngFor="let convo of allConvos">
            <div *ngIf="convo.PairID == pairId;">
              <ion-card-subtitle *ngIf="convo?.Messages?.length! > 0; else noMessagesYet">{{convo?.Messages?.[convo?.Messages?.length! - 1]?.Content}}</ion-card-subtitle>
            </div>
            <ng-template #noMessagesYet>
              <ion-card-subtitle>Start a conversation!</ion-card-subtitle>
            </ng-template>
          </div>
        </div>
        <ion-badge>{{unreadMessages}}</ion-badge>
      </ion-card-header>
      
      <ion-card-content>
        <div class="img-holder">
          <img src="{{imgSrc}}" alt="">
        </div>
      </ion-card-content>
    </ion-card>
</div>